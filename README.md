![workflow](https://github.com/valentine9304/yamdb_final/workflows/yamdb_workflow.yaml/badge.svg)

 Проект YaMDb
Проект YaMDb собирает отзывы пользователей на произведения. Сами произведения в YaMDb не хранятся, здесь нельзя посмотреть фильм или послушать музыку.Произведения делятся на категории, такие как «Книги», «Фильмы», «Музыка».Благодарные или возмущённые пользователи оставляют к произведениям текстовые отзывы и ставят произведению оценку в диапазоне от одного до десяти (целое число). Пользователи могут оставлять комментарии к отзывам. Из пользовательских оценок формируется усреднённая оценка произведения — рейтинг (целое число).

## Ресурсы API YaMDb
+ Ресурс auth: аутентификация.
+ Ресурс users: пользователи.
+ Ресурс titles: произведения, к которым пишут отзывы (определённый фильм, книга или песенка).
+ Ресурс categories: категории (типы) произведений («Фильмы», «Книги», «Музыка»). Одно произведение может быть привязано только к одной категории.
+ Ресурс genres: жанры произведений. Одно произведение может быть привязано к нескольким жанрам.
+ Ресурс reviews: отзывы на произведения. Отзыв привязан к определённому произведению.
+ Ресурс comments: комментарии к отзывам. Комментарий привязан к определённому отзыву.

## Стек технологий

+ Python
+ Django
+ DRF
+ Simple JWT

## Пользовательские роли
+ Аноним — может просматривать описания произведений, читать отзывы и комментарии.
+ Аутентифицированный пользователь (user) — может, как и Аноним, читать всё, дополнительно он может публиковать отзывы и ставить оценку произведениям (фильмам/книгам/песенкам), может комментировать чужие отзывы; может редактировать и удалять свои отзывы и комментарии. Эта роль присваивается поq умолчанию каждому новому пользователю.
+ Модератор (moderator) — те же права, что и у Аутентифицированного пользователя плюс право удалять любые отзывы и комментарии.
+ Администратор (admin) — полные права на управление всем контентом проекта. Может создавать и удалять произведения, категории и жанры. Может назначать роли пользователям.

### Как запустить проект:

Клонировать репозиторий:

```
git clone git@github.com:valentine9304/infra_sp2.git
```

Перейти в папку infra и запустить docker-compose.yaml
(при установленном и запущенном Docker)
```
cd infra_sp2/infra
docker-compose up
```

Для пересборки контейнеров выполнять команду:
(находясь в папке infra, при запущенном Docker)
```
docker-compose up -d --build
```

Создать суперпользователя:

```
docker-compose exec web python manage.py createsuperuser
```

Проверьте работоспособность приложения, для этого перейдите на страницу:

```
 http://localhost/admin/
```

### Примеры API запросов:
+ [POST] /api/v1/auth/signup/ - Регистрация нового пользователя
```json
    "username": "user@mail.ru",
    "email": "user@mail.ru"
```
+ [POST] /api/v1/auth/token/ - Выдача jwt token Пользавтелю. 
```json
    "username": "user",
    "confirmation_code": "bj7rvg-ec9c545473ddd3fca5e1f1bf782efa0f"
```
+ [POST] /api/v1/titles/{title_id}/reviews/ - Добавить новый отзыв. Пользователь может оставить только один отзыв на произведение.
```json
    "text": "string",
    "score": 1
```
+ [POST] /api/v1/titles/{title_id}/reviews/{review_id}/comments/ - Добавить новый комментарий для отзыва.
```json
    "text": "string"
```

## Авторы
:bowtie: Александр  
:trollface: Валентин  
:sunglasses: Семён
